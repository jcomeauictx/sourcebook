\lstset{
    numbers=left,                % line numbers on the left
    numberstyle=\small,          % style of line numbers
    showstringspaces=false,      % do not show visible representation of spaces
    stepnumber=1,                % show every line number
    numbersep=5pt,               % gap between numbers and code
    backgroundcolor=\color{white}, % background color
    keywordstyle=\color{blue},   % keyword style
    basicstyle=\ttfamily,        % code font and (optionally) size
    extendedchars=true,          % use all possible characters
    frame=single,                % add a frame around the code
    breaklines=true,             % break long lines
    breakindent=0pt,             % don't indent broken part of lines
    linewidth=6.5in,             % max line length
    breakatwhitespace=false,     % breaks anywhere
    % now define some special character representations
    % show control characters and Latin1 in different color; UTF8 normal
    literate=%
        % latin-1 equivalents of the UTF-8
        % and ASCII control sequences that may appear in some text files
        {^^07}{{\textcolor{gray}{\^{}G}}}2  % BEL
        {^^1b}{{\textcolor{gray}{\^{}[}}}1  % ESC
        {^^a0}{{~}}1  % non-breaking space
        {^^a1}{{\textcolor{gray}{!`}}}1  % upside down "!"
        {^^a2}{{\textcolor{gray}{\textcent}}}1  % cents sign
        {^^a3}{{\textcolor{gray}{\pounds}}}1  % pounds sterling sign
        {^^a4}{{\textcolor{gray}{\textcurrency}}}1  % general currency sign
        {^^a5}{{\textcolor{gray}{\textyen}}}1  % yen sign
        {^^a6}{{\textcolor{gray}{\textbrokenbar}}}1  % broken vertical bar
        {^^a7}{{\textcolor{gray}{\S}}}1  % section symbol
        {^^a8}{{\textcolor{gray}{\textasciidieresis}}}1  % umlaut
        {^^a9}{{\textcolor{gray}{\copyright}}}1  % copyright symbol
        {^^aa}{{\textcolor{gray}{\textordfeminine}}}1  % a-superior
        {^^ab}{{\textcolor{gray}{\guillemotleft}}}1  % euroquotes left
        {^^ac}{{\textcolor{gray}{\textlnot}}}1  % logical not
        {^^ad}{{\textcolor{gray}{\-}}}1  % soft hyphen
        {^^ae}{{\textcolor{gray}{\textregistered}}}1  % registered trademark
        {^^af}{{\textcolor{gray}{\textasciimacron}}}1  % "long" accent
        {^^b0}{{\textcolor{gray}{\textdegree}}}1  % degree sign
        {^^b1}{{\textcolor{gray}{\textpm}}}1  % plus-or-minus sign
        {^^b2}{{\textcolor{gray}{\texttwosuperior}}}1  % 2-superior
        {^^b3}{{\textcolor{gray}{\textthreesuperior}}}1  % 3-superior
        {^^b4}{{\textcolor{gray}{\textasciiacute}}}1  % acute accent
        {^^b5}{{\textcolor{gray}{\textmu}}}1  % greek letter mu
        {^^b6}{{\textcolor{gray}{\P}}}1  % paragraph sign
        {^^b7}{{\textcolor{gray}{\textperiodcentered}}}1  % middle "."
        {^^b8}{{\textcolor{gray}{\c{}}}}1  % cedilla alone
        {^^b9}{{\textcolor{gray}{\textonesuperior}}}1  % 0-superior
        {^^ba}{{\textcolor{gray}{\textordmasculine}}}1  % o-superior
        {^^bb}{{\textcolor{gray}{\guillemotright}}}1  % euroquotes right
        {^^bc}{{\textcolor{gray}{\textonequarter}}}1  % 1/4
        {^^bd}{{\textcolor{gray}{\textonehalf}}}1  % 1/2
        {^^be}{{\textcolor{gray}{\textthreequarters}}}1  % 3/4
        {^^bf}{{\textcolor{gray}{?`}}}1  % upside-down "?"
        {^^c0}{{\textcolor{gray}{\`{A}}}}1  % A grave
        {^^c1}{{\textcolor{gray}{\'{A}}}}1  % A acute
        {^^c2}{{\textcolor{gray}{\^{A}}}}1  % A cedilla
        {^^c3}{{\textcolor{gray}{\~{A}}}}1  % A tilde
        {^^c4}{{\textcolor{gray}{\"{A}}}}1  % A umlaut
        {^^c5}{{\textcolor{gray}{\AA}}}1  % A ring
        {^^c6}{{\textcolor{gray}{\AE}}}1  % AE ligature
        {^^c7}{{\textcolor{gray}{\c{C}}}}1  % C cedilla
        {^^c8}{{\textcolor{gray}{\`{E}}}}1  % E grave
        {^^c9}{{\textcolor{gray}{\'{E}}}}1  % E acute
        {^^ca}{{\textcolor{gray}{\^{E}}}}1  % E circumflex
        {^^cb}{{\textcolor{gray}{\"{E}}}}1  % E umlaut
        {^^cc}{{\textcolor{gray}{\`{I}}}}1  % I grave
        {^^cd}{{\textcolor{gray}{\'{I}}}}1  % I acute
        {^^ce}{{\textcolor{gray}{\^{I}}}}1  % I circumflex
        {^^cf}{{\textcolor{gray}{\"{I}}}}1  % I umlaut
        {^^d0}{{\textcolor{gray}{\DH}}}1  % ETH
        {^^d1}{{\textcolor{gray}{\~{N}}}}1  % N tilde
        {^^d2}{{\textcolor{gray}{\`{O}}}}1  % O grave
        {^^d3}{{\textcolor{gray}{\'{O}}}}1  % O acute
        {^^d4}{{\textcolor{gray}{\^{O}}}}1  % O circumflex
        {^^d5}{{\textcolor{gray}{\~{O}}}}1  % O tilde
        {^^d6}{{\textcolor{gray}{\"{O}}}}1  % O umlaut
        {^^d7}{{\textcolor{gray}{\texttimes}}}1  % times symbol
        {^^d8}{{\textcolor{gray}{\O}}}1  % O slash
        {^^d9}{{\textcolor{gray}{\`{U}}}}1  % U grave
        {^^da}{{\textcolor{gray}{\'{U}}}}1  % U acute
        {^^db}{{\textcolor{gray}{\^{U}}}}1  % U circumflex
        {^^dc}{{\textcolor{gray}{\"{U}}}}1  % U umlaut
        {^^dd}{{\textcolor{gray}{\'{Y}}}}1  % Y acute
        {^^de}{{\textcolor{gray}{\TH}}}1  % THORN
        {^^df}{{\textcolor{gray}{\ss}}}1  % eszett
        {^^e0}{{\textcolor{gray}{\`{a}}}}1  % a grave
        {^^e1}{{\textcolor{gray}{\'{a}}}}1  % a acute
        {^^e2}{{\textcolor{gray}{\^{a}}}}1  % a cedilla
        {^^e3}{{\textcolor{gray}{\~{a}}}}1  % a tilde
        {^^e4}{{\textcolor{gray}{\"{a}}}}1  % a umlaut
        {^^e5}{{\textcolor{gray}{\aa}}}1  % a ring
        {^^e6}{{\textcolor{gray}{\ae}}}1  % ae ligature
        {^^e7}{{\textcolor{gray}{\c{c}}}}1  % c cedilla
        {^^e8}{{\textcolor{gray}{\`{e}}}}1  % e grave
        {^^e9}{{\textcolor{gray}{\'{e}}}}1  % e acute
        {^^ea}{{\textcolor{gray}{\^{e}}}}1  % e circumflex
        {^^eb}{{\textcolor{gray}{\"{e}}}}1  % e umlaut
        {^^ec}{{\textcolor{gray}{\`{i}}}}1  % i grave
        {^^ed}{{\textcolor{gray}{\'{i}}}}1  % i acute
        {^^ee}{{\textcolor{gray}{\^{i}}}}1  % i circumflex
        {^^ef}{{\textcolor{gray}{\"{i}}}}1  % i umlaut
        {^^f0}{{\textcolor{gray}{\dh}}}1  % eth
        {^^f1}{{\textcolor{gray}{\~{n}}}}1  % n tilde
        {^^f2}{{\textcolor{gray}{\`{o}}}}1  % o grave
        {^^f3}{{\textcolor{gray}{\'{o}}}}1  % o acute
        {^^f4}{{\textcolor{gray}{\^{o}}}}1  % o circumflex
        {^^f5}{{\textcolor{gray}{\~{o}}}}1  % o tilde
        {^^f6}{{\textcolor{gray}{\"{o}}}}1  % o umlaut
        {^^f7}{{\textcolor{gray}{\textdiv}}}1  % division symbol
        {^^f8}{{\textcolor{gray}{\o}}}1  % o slash
        {^^f9}{{\textcolor{gray}{\`{u}}}}1  % u grave
        {^^fa}{{\textcolor{gray}{\'{u}}}}1  % u acute
        {^^fb}{{\textcolor{gray}{\^{u}}}}1  % u circumflex
        {^^fc}{{\textcolor{gray}{\"{u}}}}1  % u umlaut
        {^^fd}{{\textcolor{gray}{\'{y}}}}1  % y acute
        {^^fe}{{\textcolor{gray}{\th}}}1  % thorn
        {^^ff}{{\textcolor{gray}{\"{y}}}}1  % y umlaut
        {^^c2^^a0}{{~}}1  % non-breaking space
        {^^c2^^a1}{{!`}}1  % upside down exclamation point
        {^^c2^^a2}{{\textcent}}1  % cents sign
        {^^c2^^a3}{{\pounds}}1  % pounds sterling sign
        {^^c2^^a4}{{\textcurrency}}1  % general currency sign
        {^^c2^^a5}{{\textyen}}1  % yen sign
        {^^c2^^a6}{{\textbrokenbar}}1  % yen sign
        {^^c2^^a7}{{\S}}1  % section sign
        {^^c2^^a8}{{\textasciidieresis}}1  % umlaut
        {^^c2^^a9}{{\copyright}}1  % (C) in circle
        {^^c2^^aa}{{\textordfeminine}}1  % a-superior
        {^^c2^^ab}{{\guillemotleft}}1  % euroquotes-left
        {^^c2^^ac}{{\textlnot}}1  % logical not
        {^^c2^^ad}{{\-}}1  % soft hyphen
        {^^c2^^ae}{{\textregistered}}1  % registered trademark
        {^^c2^^af}{{\textasciimacron}}1  % "long" accent
        {^^c2^^b0}{{\textdegree}}1  % degree sign
        {^^c2^^b1}{{\textpm}}1  % plus or minus sign
        {^^c2^^b2}{{\texttwosuperior}}1  % 2-superior
        {^^c2^^b3}{{\textthreesuperior}}1  % 3-superior
        {^^c2^^b4}{{\textasciiacute}}1  % acute accent
        {^^c2^^b5}{{\textmu}}1  % Greek letter mu
        {^^c2^^b6}{{\P}}1  % paragraph (pilcrow) sign
        {^^c2^^b7}{{\textperiodcentered}}1  % middle "."
        {^^c2^^b8}{{\c{}}}1  % standalone cedilla
        {^^c2^^b9}{{\textonesuperior}}1  % 1-superior
        {^^c2^^ba}{{\textordmasculine}}1  % o-superior
        {^^c2^^bb}{{\guillemotright}}1  % euroquotes right
        {^^c2^^bc}{{\textonequarter}}1  % 1/4
        {^^c2^^bd}{{\textonehalf}}1  % 1/2
        {^^c2^^be}{{\textthreequarters}}1  % 3/4
        {^^c2^^bf}{{?`}}1  % upside down question mark
        {^^c3^^80}{{\`{A}}}1  % A grave
        {^^c3^^81}{{\'{A}}}1  % A acute
        {^^c3^^82}{{\^{A}}}1  % A circumflex
        {^^c3^^83}{{\~{A}}}1  % A tilde
        {^^c3^^84}{{\"{A}}}1  % A umlaut
        {^^c3^^85}{{\AA}}1  % A ring
        {^^c3^^86}{{\AE}}1  % AE ligature
        {^^c3^^87}{{\c{C}}}1  % C cedilla
        {^^c3^^88}{{\`{E}}}1  % E grave
        {^^c3^^89}{{\'{E}}}1  % E acute
        {^^c3^^8a}{{\^{E}}}1  % E circumflex
        {^^c3^^8b}{{\"{A}}}1  % E umlaut
        {^^c3^^8c}{{\`{I}}}1  % I grave
        {^^c3^^8d}{{\'{I}}}1  % I acute
        {^^c3^^8e}{{\^{I}}}1  % I circumflex
        {^^c3^^8f}{{\"{I}}}1  % I umlaut
        {^^c3^^90}{{\DH}}1  % ETH
        {^^c3^^91}{{\~{N}}}1  % N tilde
        {^^c3^^92}{{\`{O}}}1  % O grave
        {^^c3^^93}{{\'{O}}}1  % O acute
        {^^c3^^94}{{\^{O}}}1  % O circumflex
        {^^c3^^95}{{\~{O}}}1  % O tilde
        {^^c3^^96}{{\"{O}}}1  % O umlaut
        {^^c3^^97}{{\texttimes}}1  % times symbol
        {^^c3^^98}{{\O}}1  % O slash
        {^^c3^^99}{{\`{U}}}1  % U grave
        {^^c3^^9a}{{\'{U}}}1  % U acute
        {^^c3^^9b}{{\^{U}}}1  % U circumflex
        {^^c3^^9c}{{\"{U}}}1  % U umlaut
        {^^c3^^9d}{{\'{Y}}}1  % Y acute
        {^^c3^^9e}{{\TH}}1  % THORN
        {^^c3^^9f}{{\ss}}1  % eszett, 0xdf
        {^^c3^^a0}{{\`{a}}}1  % a grave
        {^^c3^^a1}{{\'{a}}}1  % a acute
        {^^c3^^a2}{{\^{a}}}1  % a circumflex
        {^^c3^^a3}{{\~{a}}}1  % a tilde
        {^^c3^^a4}{{\"{a}}}1  % a umlaut
        {^^c3^^a5}{{\aa}}1  % a ring
        {^^c3^^a6}{{\ae}}1  % ae ligature
        {^^c3^^a7}{{\c{c}}}1  % c cedilla
        {^^c3^^a8}{{\`{e}}}1  % e grave
        {^^c3^^a9}{{\'{e}}}1  % e acute
        {^^c3^^aa}{{\^{e}}}1  % e circumflex
        {^^c3^^ab}{{\"{e}}}1  % e umlaut
        {^^c3^^ac}{{\`{i}}}1  % i grave
        {^^c3^^ad}{{\'{i}}}1  % i acute
        {^^c3^^ae}{{\^{i}}}1  % i circumflex
        {^^c3^^af}{{\"{i}}}1  % i umlaut
        {^^c3^^b0}{{\DH}}1  % ETH
        {^^c3^^b1}{{\~{n}}}1  % n tilde
        {^^c3^^b2}{{\`{o}}}1  % o grave
        {^^c3^^b3}{{\'{o}}}1  % o acute
        {^^c3^^b4}{{\^{o}}}1  % o circumflex
        {^^c3^^b5}{{\~{o}}}1  % o tilde
        {^^c3^^b6}{{\"{o}}}1  % o umlaut
        {^^c3^^b7}{{\textdiv}}1  % division symbol
        {^^c3^^b8}{{\o}}1  % o slash
        {^^c3^^b9}{{\`{u}}}1  % u grave
        {^^c3^^ba}{{\'{u}}}1  % u acute
        {^^c3^^bb}{{\^{u}}}1  % u circumflex
        {^^c3^^bc}{{\"{u}}}1  % u umlaut
        {^^c3^^bd}{{\'{y}}}1  % y acute
        {^^c3^^be}{{\th}}1  % thorn
        {^^c3^^bf}{{\"{y}}}1  % y umlaut
}
\chapter{Listings}
% fix section and subsection so that new pages are created in each case
\let\realsection\section
\renewcommand\section{\vfill\null\newpage\realsection}
\let\realsubsection\subsection
\renewcommand\subsection{\vfill\null\newpage\realsubsection}
